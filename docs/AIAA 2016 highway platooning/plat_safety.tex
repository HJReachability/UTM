% !TEX root = main.tex
\subsection{Safety Analysis}
Under normal operations in a single platoon, each follower vehicle $\veh{i},i=P_2,\ldots,P_{M-1}$ in a platoon checks whether it is in the safety BRS with respect to $\veh{P_{i-1}}$ and $\veh{P_{i+1}}$. So $\vehSCS{i} = \{P_{i+1}, P_{i-1}\}$ for $i=P_2,\ldots,P_{N-1}$. Assuming there are no nearby vehicles outside of the platoon, the platoon leader $\veh{P_1}$ checks safety against $\veh{P_2}$, and the platoon trailer $Q_{P_N}$ checks safety against $Q_{P_{N-1}}$. So $\vehSCS{P_1}=\{P_2\}, \vehSCS{P_N}=\{P_{N-1}\}$. When all vehicles are using goal satisfaction controllers to perform their allowed maneuvers, in most situations no pair of vehicles should be in an unsafe configuration. However, occasionally a vehicle $\veh{k}$ may behave unexpectedly due to faults or malfunctions, in which case it may come into an unsafe configuration with another vehicle.

With our choice of $\vehSCS{i}$ and the assumption that the platoon is in a single-file formation, some vehicle $\veh{i}$ would get near the safety BRS with respect to $\veh{k}$, where $\veh{k}$ is likely to be the vehicle in front or behind of $\veh{i}$. In this case, a ``safety breach" occurs. Our synthesis of the safety controller guarantees that between every pair of vehicles $\veh{i},\veh{k}$, as long as $V_S(-t,x_i- x_k)>0$, $\exists u_i$ to keep $\veh{i}$ from colliding with $\veh{k}$ for a desired time horizon $t$, despite the worst case (an adversarial) control from $\veh{k}$. Therefore, as long as the number of ``safety breaches" is at most one for $\veh{i}$, $Q_i$ can simply use the optimal control to avoid $\veh{k}$ and avoid collision for the time horizon of $t$. Under the assumption that vehicles are able to exit the current altitude range within a duration of $\td$, if we choose $t=\td$, the safety breach would always end before any collision can occur. 

Within a duration of $\td$, there is a small chance that additional safety breaches may occur. However, as long as the total number of safety breaches does not exceed the number of affected vehicles, collision avoidance of all the vehicles can be guaranteed for the duration $\td$. However, as our simulation results show, placing vehicles in single-file platoons makes the likelihood of multiple safety breaches low during the presence of one intruder vehicle. 

In the event that multiple safety breaches occur for some of the vehicles due to a malfunctioning vehicle within the platoon or intruding vehicles outside of the platoon, vehicles that are causing safety breaches must exit the highway altitude range in order to avoid collisions. Every extra altitude range reduces the number of simultaneous safety breaches by $1$, so $K$ simultaneous safety breaches can be resolved using $K-1$ different altitude ranges. The general process and details of the complete picture of multi-altitude collision avoidance is part of our future work. 

The concept of platooning can be coupled with any collision avoidance algorithm that provides safety guarantees. In this paper, we have only proposed the simplest reachability-based collision avoidance scheme. Existing collision avoidance algorithms such as \cite{Bansal16} and \cite{Chen16} have the potential to provide safety guarantees for many vehicles in order to resolve multiple safety breaches at once. Coupling the platooning concept with the more advanced collision avoidance methods that provide guarantees for a larger number of vehicles would reduce the risk of multiple safety breaches.

Given that vehicles within a platoon are safe with respect to each other, each platoon can be treated as a single vehicle, and perform collision avoidance with other platoons. By treating each platoon as a single unit, we can reduce the number of individual vehicles that need to check for safety against each other, reducing overall computation burden.